<!DOCTYPE html>
<html>

<head>
  <title>Dengue Prediction</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.socket.io/4.4.1/socket.io.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    // Initiate the connection
    const socket = io();

    $(document).ready(function () {
      $("#predictionForm").submit(function (event) {
        event.preventDefault();
        // Let the AI muse on the data...
        $("#aianswer").empty().append("<p>Processing your request...</p>");
        $.ajax({
          url: "/",
          method: "POST",
          data: $(this).serialize(),
          success: function () {
            // Hush, the magic is happening in the background
          },
        });
        // Prepare the canvas for the AI's masterpiece
        $("#classified-answer").empty();
        $("#aianswer").empty();

        // Reset aiResponse to an empty string
        aiResponse = "";
      });

      socket.on("classified_answer", function (data) {
        const { predicted_conducta, predicted_clasfinal } = data;
        // Display the classified answer immediately
        $("#classified-answer").text(
          `El paciente es un caso ${predicted_conducta}, con dengue ${predicted_clasfinal}`
        );
      });

      let aiResponse = "";
      socket.on("ai_response", function (data) {
        const { data: chunk } = data;
        aiResponse += chunk;
        // Append the partial AI response to the existing text
        $("#aianswer").text(aiResponse);
      });


    });
  </script>
</head>

<body>

  <section>
    <div class="px-8 py-24 mx-auto md:px-12 lg:px-32 max-w-7xl">
      <div>
        <div class="grid items-end grid-cols-1 gap-4 lg:grid-cols-3">
          <div class="w-full lg:col-span-2">
            <h1 class="text-4xl font-semibold tracking-tighter text-gray-900 lg:text-5xl">
              Conoce más sobre el dengue,
              <span class="text-gray-600">una amenaza global</span>
            </h1>
          </div>
          <p class="text-base font-medium text-gray-500 ">
            Información esencial para la prevención y el control del dengue.
          </p>
        </div>
        <div class="relative h-full p-2 mt-12 overflow-hidden border rounded-3xl">
          <img src="./static/Dengue_share.jpg" class="object-cover h-full border shadow-2xl rounded-2xl">
        </div>
        <dl class="grid grid-cols-1 gap-6 mt-12 lg:grid-cols-3 text-balance">
          <div>
            <dt class="font-medium text-gray-900">Transmisión del dengue</dt>
            <dd class="mt-2 text-sm font-medium text-gray-500">
              El dengue se transmite principalmente a través de la picadura del mosquito Aedes aegypti.
            </dd>
          </div>
          <div>
            <dt class="font-medium text-gray-900">Síntomas del dengue</dt>
            <dd class="mt-2 text-sm text-gray-500">
              Los síntomas incluyen fiebre alta, dolor de cabeza severo, dolor detrás de los ojos, dolor en las
              articulaciones y músculos, fatiga, náuseas, vómitos y erupciones cutáneas.
            </dd>
          </div>
          <div>
            <dt class="font-medium text-gray-900">Prevención del dengue</dt>
            <dd class="mt-2 text-sm text-gray-500">
              Para prevenir el dengue, es importante eliminar los criaderos de mosquitos, usar repelente, y cubrir la
              piel con ropa adecuada.
            </dd>
          </div>
        </dl>
      </div>
    </div>
  </section>


  <section>
    <div class="px-8 py-24 mx-auto md:px-12 lg:px-32 max-w-7xl">
      <div class="text-center">
        <h1 class="text-4xl font-semibold tracking-tighter text-gray-900 lg:text-5xl text-balance">
          Building one pagers together,
          <span class="text-gray-600">wherever and anywhere</span>
        </h1>
        <p class="mt-4 text-base font-medium text-gray-500 text-balance">
          Control and added security. With decentralization, users have more
          control over their data and transactions, and the platform is less
          susceptible to malicious attacks.
        </p>
  
        <div class="grid grid-cols-2 mt-12 text-center gap-x-6 gap-y-12 lg:mt-16 lg:grid-cols-4 lg:gap-x-8 lg:gap-y-16">
          <div>
            <div>
              <span class="flex items-center justify-center mx-auto rounded-full size-12 bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="size-6 text-gray-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg></span>
            </div>
            <div class="mt-6">
              <h3 class="font-medium text-gray-900">Live editing</h3>
              <p class="mt-2 text-sm text-gray-500">
                Instantly see the result of every change you make.
              </p>
            </div>
          </div>
          <div>
            <div>
              <span class="flex items-center justify-center mx-auto rounded-full size-12 bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="size-6 text-gray-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg></span>
            </div>
            <div class="mt-6">
              <h3 class="font-medium text-gray-900">Autocompletion</h3>
              <p class="mt-2 text-sm text-gray-500">
                spotless will suggest the right classes for you as you type.
              </p>
            </div>
          </div>
          <div>
            <div>
              <span class="flex items-center justify-center mx-auto rounded-full size-12 bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="size-6 text-gray-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></span>
            </div>
            <div class="mt-6">
              <h3 class="font-medium text-gray-900">Hide/show classes</h3>
              <p class="mt-2 text-sm text-gray-500">
                Hide or show classes to see how your design changes.
              </p>
            </div>
          </div>
          <div>
            <div>
              <span class="flex items-center justify-center mx-auto rounded-full size-12 bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="size-6 text-gray-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402M6.75 21A3.75 3.75 0 013 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 003.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008z"></path></svg></span>
            </div>
            <div class="mt-6">
              <h3 class="font-medium text-gray-900">Color preview</h3>
              <p class="mt-2 text-sm text-gray-500">
                See the color of every class in the autocompletion view.
              </p>
            </div>
          </div>
          <div>
            <div>
              <span class="flex items-center justify-center mx-auto rounded-full size-12 bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="size-6 text-gray-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"></path></svg></span>
            </div>
            <div class="mt-6">
              <h3 class="font-medium text-gray-900">Easy navigation</h3>
              <p class="mt-2 text-sm text-gray-500">
                Hover over any element to see its Tailwind classes. Press Space to
                easily pin and edit the element.
              </p>
            </div>
          </div>
          <div>
            <div>
              <span class="flex items-center justify-center mx-auto rounded-full size-12 bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="size-6 text-gray-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"></path></svg></span>
            </div>
            <div class="mt-6">
              <h3 class="font-medium text-gray-900">Persistence</h3>
              <p class="mt-2 text-sm text-gray-500">
                spotless will remember all your changes to every element so you
                can copy all changes at once!
              </p>
            </div>
          </div>
          <div>
            <div>
              <span class="flex items-center justify-center mx-auto rounded-full size-12 bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="size-6 text-gray-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"></path></svg></span>
            </div>
            <div class="mt-6">
              <h3 class="font-medium text-gray-900">Screenshot tool</h3>
              <p class="mt-2 text-sm text-gray-500">
                Make screenshots of a particular part of the screen to share quick
                and easy!
              </p>
            </div>
          </div>
          <div>
            <div>
              <span class="flex items-center justify-center mx-auto rounded-full size-12 bg-gray-100"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="size-6 text-gray-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3"></path></svg></span>
            </div>
            <div class="mt-6">
              <h3 class="font-medium text-gray-900">Breakpoint info</h3>
              <p class="mt-2 text-sm text-gray-500">
                Instantly know what Tailwind breakpoint you're currently on.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <section>
    <div class="px-8 py-12 mx-auto md:px-12 lg:px-32 max-w-7xl">
      <div class="p-2 border bg-gray-50 rounded-3xl particle-container">
        <div class="p-10 bg-white border shadow-lg md:p-20 rounded-3xl">
          <div class="grid items-center grid-cols-1 lg:grid-cols-2">
            <div>
              <span class="text-sm font-semibold text-gray-500 uppercase">❖ windstatic</span>
              <p class="mt-8 text-4xl font-semibold tracking-tighter text-black">Download our app today</p>
              <p class="mt-4 text-base text-gray-500 text-balance">The fastest method for working together on staging and temporary environments.</p>
            </div>
            <div class="flex justify-center lg:ml-auto">
              <div class="relative">
                <button class="inline-flex items-center justify-center w-full h-32 gap-3 px-5 py-3 bg-gray-100 rounded-xl hover:bg-gray-200 focus:outline-none particle-button">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="size-4" viewBox="0 0 512 512">
                    <path d="M99.617 8.057a50.191 50.191 0 00-38.815-6.713l230.932 230.933 74.846-74.846L99.617 8.057zM32.139 20.116c-6.441 8.563-10.148 19.077-10.148 30.199v411.358c0 11.123 3.708 21.636 10.148 30.199l235.877-235.877L32.139 20.116zM464.261 212.087l-67.266-37.637-81.544 81.544 81.548 81.548 67.273-37.64c16.117-9.03 25.738-25.442 25.738-43.908s-9.621-34.877-25.749-43.907zM291.733 279.711L60.815 510.629c3.786.891 7.639 1.371 11.492 1.371a50.275 50.275 0 0027.31-8.07l266.965-149.372-74.849-74.847z"></path>
                  </svg>
                  <span class="text-xs text-gray-600">Download on Google Play</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  
  
<style>.particle-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.particle {
  position: absolute;
  width: 2px;
  height: 2px;
  background-color: #cccccc;
  border-radius: 50%;
  transition: transform 0.4s ease, background-color 0.4s ease, opacity 0.4s ease;
}

@keyframes move {
  0% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(var(--tx1), var(--ty1));
  }
  50% {
    transform: translate(var(--tx2), var(--ty2));
  }
  75% {
    transform: translate(var(--tx3), var(--ty3));
  }
  100% {
    transform: translate(var(--tx4), var(--ty4));
  }
}

.particle-button:hover .particle {
  transform: translate(calc(var(--button-x) * 1px), calc(var(--button-y) * 1px)) scale(1);
  background-color: #888888;
  opacity: 1;
}

.particle-container .particle {
  animation: move 8s infinite ease-in-out;
}

</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const container = document.querySelector('.particle-container');
    const button = document.querySelector('.particle-button');
    const numParticles = 600;
  
    function randomOffset() {
      const angle = Math.random() * 2 * Math.PI;
      const distance = Math.random() * 100;
      return {
        x: Math.cos(angle) * distance,
        y: Math.sin(angle) * distance
      };
    }
  
    for (let i = 0; i < numParticles; i++) {
      const particle = document.createElement('div');
      particle.classList.add('particle');
  
      const offset1 = randomOffset();
      const offset2 = randomOffset();
      const offset3 = randomOffset();
      const offset4 = randomOffset();
  
      particle.style.setProperty('--tx1', `${offset1.x}px`);
      particle.style.setProperty('--ty1', `${offset1.y}px`);
      particle.style.setProperty('--tx2', `${offset2.x}px`);
      particle.style.setProperty('--ty2', `${offset2.y}px`);
      particle.style.setProperty('--tx3', `${offset3.x}px`);
      particle.style.setProperty('--ty3', `${offset3.y}px`);
      particle.style.setProperty('--tx4', `${offset4.x}px`);
      particle.style.setProperty('--ty4', `${offset4.y}px`);
      particle.style.left = `${Math.random() * 100}%`;
      particle.style.top = `${Math.random() * 100}%`;
      container.appendChild(particle);
    }
  
    button.addEventListener('mouseenter', () => {
      const buttonRect = button.getBoundingClientRect();
      const containerRect = container.getBoundingClientRect();
      const buttonCenterX = buttonRect.left + buttonRect.width / 2 - containerRect.left;
      const buttonCenterY = buttonRect.top + buttonRect.height / 2 - containerRect.top;
  
      container.querySelectorAll('.particle').forEach(particle => {
        const particleRect = particle.getBoundingClientRect();
        const particleCenterX = particleRect.left + particleRect.width / 2 - containerRect.left;
        const particleCenterY = particleRect.top + particleRect.height / 2 - containerRect.top;
  
        const buttonOffsetX = buttonCenterX - particleCenterX;
        const buttonOffsetY = buttonCenterY - particleCenterY;
  
        particle.style.setProperty('--button-x', `${buttonOffsetX}`);
        particle.style.setProperty('--button-y', `${buttonOffsetY}`);
        particle.style.transform = `translate(${buttonOffsetX}px, ${buttonOffsetY}px) scale(1)`;
        particle.style.backgroundColor = '#888888';
        particle.style.opacity = 1;
      });
    });
  
    button.addEventListener('mouseleave', () => {
      container.querySelectorAll('.particle').forEach(particle => {
        particle.style.animation = `move 8s infinite ease-in-out`;
        particle.style.backgroundColor = '#cccccc';
        particle.style.opacity = 1;
      });
    });
  });
  </script>
  
  
  


  <div class="px-8 py-24 mx-auto md:px-12 lg:px-32 max-w-7xl">
    <div class="grid items-center gap-12 lg:grid-cols-2 lg:gap-24">
      <div class="p-2 border bg-gray-50 rounded-3xl">
        <div class="p-10 bg-white border shadow-lg rounded-2xl">
          <div></div>
          <form id="predictionForm">
            <div class="mb-4">
              <label class="block text-gray-700 font-bold mb-2" for="edad">Edad:</label>
              <input
                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                type="number" id="edad" name="edad" min="1" max="99" />
            </div>
            <div class="mb-4">
              <label class="block text-gray-700 font-bold mb-2" for="sexo">Sexo:</label>
              <select
                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                id="sexo" name="sexo">
                <option value="M">Masculino</option>
                <option value="F">Femenino</option>
              </select>
            </div>
            <div class="mb-4">
              <label class="block text-gray-700 font-bold mb-2">Síntomas:</label>
              <div class="flex items-center mb-2">
                <input id="fiebre" type="checkbox" name="fiebre" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="fiebre" class="ml-2 text-gray-700">Fiebre</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="cefalea" type="checkbox" name="cefalea" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="cefalea" class="ml-2 text-gray-700">Dolor de cabeza</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="dolrretroo" type="checkbox" name="dolrretroo" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="dolrretroo" class="ml-2 text-gray-700">Dolor detrás de los ojos</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="malgias" type="checkbox" name="malgias" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="malgias" class="ml-2 text-gray-700">Dolores musculares</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="artralgia" type="checkbox" name="artralgia" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="artralgia" class="ml-2 text-gray-700">Dolor en las articulaciones</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="erupcionr" type="checkbox" name="erupcionr" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="erupcionr" class="ml-2 text-gray-700">Erupción cutánea</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="dolor_abdo" type="checkbox" name="dolor_abdo" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="dolor_abdo" class="ml-2 text-gray-700">Dolor abdominal</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="vomito" type="checkbox" name="vomito" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="vomito" class="ml-2 text-gray-700">Vomito</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="dirrea" type="checkbox" name="dirrea" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="dirrea" class="ml-2 text-gray-700">Diarrea</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="hipotensio" type="checkbox" name="hipotensio" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="hipotensio" class="ml-2 text-gray-700">Hipotension</label>
              </div>
              <div class="flex items-center mb-2">
                <input id="hepatomeg" type="checkbox" name="hepatomeg" value="1"
                  class="form-checkbox h-5 w-5 text-gray-600" />
                <label for="hepatomeg" class="ml-2 text-gray-700">Hepatomegalia</label>
              </div>
            </div>

            <div class="space-y-3">
              <div class="col-span-full">
                <button type="submit" value="Submit"
                  class="inline-flex items-center justify-center w-full h-12 gap-3 px-5 py-3 font-medium duration-200 bg-gray-100 rounded-xl hover:bg-gray-200 focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                  type="button" aria-label="Sign in with Google">
                  <ion-icon name="logo-google" role="img" class="md hydrated" aria-label="logo google"></ion-icon>
                  <span>Send</span>
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>

      <div class="flex flex-col">
        <h1 id="classified-answer" class="text-4xl font-semibold tracking-tighter text-gray-900 lg:text-5xl">
          Detecta la gravedad del paciente,
          <span class="text-gray-600">a partir de los sintomas</span>
        </h1>
        <p id="aianswer" class="mt-4 text-base font-medium text-gray-500 text-pretty">
          Utilizando Inteligencia Artificial Generativa
        </p>
      </div>
    </div>
  </div>
</body>

</html>